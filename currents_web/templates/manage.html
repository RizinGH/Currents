{% extends "./admin_base.html" %}
{% load static %}
{% block title %}
Admin Dashboard
{% endblock %}
{% block content %}
<div class="modal fade" id="delete-conf-modal" tabindex="-1" aria-labelledby="delete-conf-modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Delete User?</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form action="" method="post">
                    {% csrf_token %}
                    <h6>Are you sure you want to delete the user?</h6>
                    <input type="hidden" name="email_id" id="modal_email">

            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button type="submit" class="btn btn-primary btn-danger" name="delete-user">Delete</button>
                </form>
            </div>

        </div>
    </div>
</div>

    <div class="view-data mt-4">
        <h3>View / Edit User</h3>
        <hr>
        <table id="table_data" class="table table-striped w-100" style="width:100%">
            <thead>
                <tr>
                    <th>Email</th>
                    <th>Username</th>
                    <th class="text-center">Action</th>
                </tr>
            </thead>

            <tbody>
                <!-- {% for user in user_data %} -->
                <tr>
                    <td>email</td>
                    <td>username</td>
                    <td>
                        <div class="d-flex justify-content-center align-items-center">
                            <a href="#edit_scroll_to_here">
                                <button class="btn btn-success me-2 p-2 edit-btn" type="submit"><i
                                        class="bi bi-pencil"></i></button>
                            </a>
                            <button class="btn btn-danger delete-btn p-2 me-2" data-bs-toggle="modal"
                                data-bs-target="#delete-conf-modal"><i class="bi bi-trash"></i></button>
                            <button class="btn btn-secondary reset-btn p-2" data-bs-toggle="modal"
                                data-bs-target="#reset-conf-modal"><i class="bi bi-arrow-clockwise"></i></button>

                        </div>
                    </td>

                </tr>
                <!-- {% endfor %} -->
            </tbody>
        </table>

        <body>
    </div>
</main>


<script src="https://code.jquery.com/jquery-3.5.1.js"></script>
<script src="https://cdn.datatables.net/1.13.3/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/1.13.3/js/dataTables.bootstrap5.min.js"></script>

<script>

    // (function () {
    //     $('#input_file').change(
    //         function () {
    //             if ($(this).val()) {
    //                 $('#upload_btn').removeAttr('disabled');
    //             }
    //             else {
    //                 $('#upload_btn').attr('disabled', 'disabled');
    //             }
    //         }
    //     );
    // })()

    // function changeVis() {
    //     console.log("Pressed");
    //     var pbar = document.getElementById('pbar');

    //     pbar.classList.remove('d-none');
    //     console.log("success");

    //     progress();

    // }



    // $('.edit-btn').on('click', function () {


    //     $('.user-section').show();

    //     $tr = $(this).closest('tr');

    //     var data = $tr.children("td").map(function () {
    //         return $(this).text();
    //     }).get();

    //     console.log(data);

    //     $('#user_id').val(data[0]);
    //     $('#username').val(data[1]);
    //     $('#user_type').val(data[2]);

    // });


    // $(document).on('click', '.delete-btn', function () {

    //     $tr = $(this).closest('tr');

    //     var data = $tr.children("td").map(function () {
    //         return $(this).text();
    //     }).get();

    //     console.log(data);

    //     $('#modal_email').val(data[0]);


    // });

    // $('.reset-btn').on('click', function () {

    //     $tr = $(this).closest('tr');

    //     var data = $tr.children("td").map(function () {
    //         return $(this).text();
    //     }).get();

    //     console.log(data);

    //     $('#resetPsdID').html(data[0]);
    //     $('#modal_email_reset').val(data[0]);


    // });
    // function progress() {
    //     var current_progress = 0
    //     var step = 0.5; // the smaller this is the slower the progress bar
    //     interval = setInterval(function () {
    //         current_progress += step;
    //         progress = Math.round(Math.atan(current_progress) / (Math.PI / 2) * 100 * 1000) / 1000
    //         $(".progress-bar")
    //             .css("width", progress + "%")
    //             .attr("aria-valuenow", progress)
    //             .text(progress + "%");
    //         if (progress >= 100) {
    //             clearInterval(interval);
    //         } else if (progress >= 70) {
    //             step = 0.1
    //         }
    //     }, 100);

    //}
</script>

{% endblock %}